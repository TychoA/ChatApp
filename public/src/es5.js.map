{"version":3,"sources":["concat.js"],"names":["Form","$parent","$form","$","appendTo","$name","$message","$submit","text","form","serialize","username","val","message","socket","io","$container","on","event","preventDefault","data","emit","find","Message","$username","remove"],"mappings":";;AAAA;;;AAGA,IAAMA,OAAO,SAAPA,IAAO,CAAUC,OAAV,EAAmB;;AAE5B;AACA,QAAMC,QAAQC,EAAE,QAAF,EAAYC,QAAZ,CAAqBH,OAArB,CAAd;;AAEA;AACA,QAAMI,QAAQF,EAAE,8EAAF,EAAkFC,QAAlF,CAA2FF,KAA3F,CAAd;;AAEA;AACA,QAAMI,WAAWH,EAAE,qEAAF,EAAyEC,QAAzE,CAAkFF,KAAlF,CAAjB;;AAEA;AACA,QAAMK,UAAUJ,EAAE,UAAF,EAAcK,IAAd,CAAmB,cAAnB,EAAmCJ,QAAnC,CAA4CF,KAA5C,CAAhB;;AAEA;AACA,SAAKO,IAAL,GAAY,YAAM;AACd,eAAOP,KAAP;AACH,KAFD;;AAIA;AACA,SAAKQ,SAAL,GAAiB,YAAM;AACnB,eAAO;AACHC,sBAAUN,MAAMO,GAAN,EADP;AAEHC,qBAASP,SAASM,GAAT;AAFN,SAAP;AAIH,KALD;AAMH,CA1BD;;AA4BA;AACAT,EAAE,YAAY;;AAEV;AACA,QAAMW,SAASC,IAAf;;AAEA;AACA,QAAMC,aAAab,EAAE,YAAF,CAAnB;;AAEA;AACA,QAAMD,QAAQ,IAAIF,IAAJ,CAASgB,UAAT,CAAd;;AAEA;AACAd,UAAMO,IAAN,GAAaQ,EAAb,CAAgB,QAAhB,EAA0B,UAACC,KAAD,EAAW;;AAEjC;AACAA,cAAMC,cAAN;;AAEA;AACA,YAAIC,OAAOlB,MAAMQ,SAAN,EAAX;;AAEA;AACAI,eAAOO,IAAP,CAAY,cAAZ,EAA4BD,IAA5B;;AAEA;AACAlB,cAAMO,IAAN,GAAaa,IAAb,CAAkB,kBAAlB,EAAsCV,GAAtC,CAA0C,EAA1C;AACH,KAbD;;AAeA;AACAE,WAAOG,EAAP,CAAU,cAAV,EAA0B,UAACG,IAAD,EAAU;;AAEhC;AACA,YAAId,WAAW,IAAIiB,OAAJ,CAAYP,UAAZ,EAAwBI,IAAxB,CAAf;AACH,KAJD;AAKH,CAjCD;;AAmCA;;;;;;;;AAQA,IAAMG,UAAU,SAAVA,OAAU,CAAUtB,OAAV,EAAmBmB,IAAnB,EAAyB;;AAErC;AACA,QAAMJ,aAAab,EAAE,uBAAF,EAA2BC,QAA3B,CAAoCH,OAApC,CAAnB;;AAEA;AACA,QAAMuB,YAAYrB,EAAE,8BAAF,EAAkCK,IAAlC,CAAuCY,KAAKT,QAAL,GAAgB,QAAvD,EAAiEP,QAAjE,CAA0EY,UAA1E,CAAlB;AACA,QAAMV,WAAWH,EAAE,6BAAF,EAAiCK,IAAjC,CAAsCY,KAAKP,OAA3C,EAAoDT,QAApD,CAA6DY,UAA7D,CAAjB;;AAEA;AACA,SAAKS,MAAL,GAAc,YAAY;AACtBT,mBAAWS,MAAX;AACH,KAFD;AAGH,CAbD;;AAeA","file":"es5.js","sourcesContent":["/**\n *  A component that handles the interface of the application\n */\nconst Form = function ($parent) {\n\n    // init main form\n    const $form = $(\"<form>\").appendTo($parent);\n\n    // init chat name input\n    const $name = $(\"<input type='text' name='username' placeholder='Type your username here...'>\").appendTo($form);\n\n    // init chat message input\n    const $message = $(\"<input type='text' name='message' placeholder='Write a message...'>\").appendTo($form);\n\n    // init submit button\n    const $submit = $(\"<button>\").text('Send message').appendTo($form);\n\n    // give access to the input\n    this.form = () => {\n        return $form;\n    };\n\n    // ability to get the form data as an object\n    this.serialize = () => {\n        return {\n            username: $name.val(),\n            message: $message.val()\n        }\n    };\n};\n\n// load interface for the index\n$(function () {\n\n    // access the websocket\n    const socket = io();\n\n    // get the main container\n    const $container = $('.container');\n\n    // init new interface\n    const $form = new Form($container);\n\n    // listen to submit event\n    $form.form().on('submit', (event) => {\n\n        // prevent default behavior\n        event.preventDefault();\n\n        // get data\n        let data = $form.serialize();\n\n        // emit message\n        socket.emit('chat message', data);\n\n        // empty form message\n        $form.form().find('[name=\"message\"]').val('');\n    });\n\n    // handle messages\n    socket.on('chat message', (data) => {\n\n        // show message\n        let $message = new Message($container, data);\n    });\n});\n\n/**\n *  An object representing an individual message\n *\n *  Data is expected to be = {\n *      username,\n *      message\n *  }\n */\nconst Message = function ($parent, data) {\n\n    // init a container\n    const $container = $('<div class=\"message\">').appendTo($parent);\n\n    // init the message elements\n    const $username = $('<p class=\"message-username\">').text(data.username + ' said:').appendTo($container);\n    const $message = $('<p class=\"message-message\">').text(data.message).appendTo($container);\n\n    // safely remove a message\n    this.remove = function () {\n        $container.remove();\n    };\n};\n\n//# sourceMappingURL=concat.js.map"]}